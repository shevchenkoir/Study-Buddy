# ๐ StudyBuddy Assistant

**StudyBuddy** โ ะธะฝัะตะปะปะตะบััะฐะปัะฝัะน ะฐััะธััะตะฝั-ััััะพั ะฝะฐ ะฑะฐะทะต **LLM** ะธ **RAG**, ะฟะพะผะพะณะฐััะธะน ัััะดะตะฝัะฐะผ ะพัะฒะฐะธะฒะฐัั ััะตะฑะฝัะน ะผะฐัะตัะธะฐะป.

## ๐ก ะะพะทะผะพะถะฝะพััะธ
- ๐ **ะัะฒะตัะฐะตั** ะฝะฐ ะฒะพะฟัะพัั ะฟะพ ะทะฐะณััะถะตะฝะฝะพะผั ะผะฐัะตัะธะฐะปั.
- ๐ ะะฐัั **ะฟะตะดะฐะณะพะณะธัะตัะบะธะต ะฟะพะดัะบะฐะทะบะธ** ะฒะผะตััะพ ะณะพัะพะฒัั ัะตัะตะฝะธะน.
- ๐ ะะตะฝะตัะธััะตั **ััะตะฝะธัะพะฒะพัะฝัะต ะบะฒะธะทั** ะฟะพ ัะตะผะฐะผ.
- ๐ฅ ะะฐะฑะพัะฐะตั **ะปะพะบะฐะปัะฝะพ ะธ ะพัะปะฐะนะฝ** ั ะธัะฟะพะปัะทะพะฒะฐะฝะธะตะผ **Ollama** ะธ **FAISS**.

---

## ๐ ะขะตัะฝะพะปะพะณะธะธ
- **Python 3.12**
- **Streamlit** โ ะฒะตะฑ-ะธะฝัะตััะตะนั.
- **Ollama** โ ะปะพะบะฐะปัะฝัะน LLM ัะตัะฒะตั.
- **FAISS** โ ะฒะตะบัะพัะฝะฐั ะฑะฐะทะฐ ะดะฐะฝะฝัั.
  
---

## ๐ ะัััััะน ััะฐัั

### 1๏ธโฃ ะฃััะฐะฝะพะฒะบะฐ ะทะฐะฒะธัะธะผะพััะตะน
```bash
pip install -r requirements.txt
```

### 2๏ธโฃ ะะพะดะณะพัะพะฒะบะฐ Ollama
ะขะตะฟะตัั **ะฝะต ะฝัะถะฝะพ ะฒัััะฝัั ะทะฐะฟััะบะฐัั `ollama serve` ะธ ะฟะพะดะณััะถะฐัั ะผะพะดะตะปะธ** โ ะฒัั ะดะตะปะฐะตั ัะบัะธะฟั **`check_ollama_connection.py`**.

ะะฐะฟััะบ:
```bash
python check_ollama_connection.py
```

ะกะบัะธะฟั:
- ๐ ะัะพะฒะตััะตั, ะทะฐะฟััะตะฝ ะปะธ ัะตัะฒะตั Ollama, ะธ ะฟัะธ ะฝะตะพะฑัะพะดะธะผะพััะธ **ะฐะฒัะพะผะฐัะธัะตัะบะธ ะตะณะพ ะฟะพะดะฝะธะผะฐะตั**.
- ๐ฆ ะัะพะฒะตััะตั ะฝะฐะปะธัะธะต ะผะพะดะตะปะตะน:
  - ะะตะฝะตัะฐัะธะฒะฝะฐั โ `qwen2.5:1.5b-instruct`
  - ะญะผะฑะตะดะดะธะฝะณะธ โ `nomic-embed-text`
- โฌ ะัะธ ะฝะตะพะฑัะพะดะธะผะพััะธ ะทะฐะณััะถะฐะตั ะผะพะดะตะปะธ (`ollama pull <model>`).
- ๐งช ะะตะปะฐะตั ัะตััะพะฒัะต ะทะฐะฟัะพัั ะบ API:
  - `/api/chat` โ ะฟัะพะฒะตัะบะฐ ะณะตะฝะตัะฐัะธะฒะฝะพะน ะผะพะดะตะปะธ.
  - `/api/embeddings` โ ะฟัะพะฒะตัะบะฐ ัะผะฑะตะดะดะธะฝะณะพะฒ.
- ๐ฅ (ะะฟัะธะพะฝะฐะปัะฝะพ) ะพัะบััะฒะฐะตั **ะพัะดะตะปัะฝะพะต ะพะบะฝะพ** ั ะธะฝัะตัะฐะบัะธะฒะฝะพะน ัะตััะธะตะน:
  ```bash
  ollama run qwen2.5:1.5b-instruct
  ```
  ะัะบะปััะธัั ะผะพะถะฝะพ, ัััะฐะฝะพะฒะธะฒ ะฒ ัะฐะนะปะต:
  ```python
  AUTO_OPEN_INTERACTIVE_RUN = False
  ```

> ๐ก ะัะปะธ Ollama ะตัั ะฝะต ัััะฐะฝะพะฒะปะตะฝะฐ โ ัะบะฐัะฐะนัะต ะตั ั [ะพัะธัะธะฐะปัะฝะพะณะพ ัะฐะนัะฐ](https://ollama.ai/).

---

### 3๏ธโฃ ะะฐะฟััะบ ะฟัะธะปะพะถะตะฝะธั
ะะพัะปะต ััะฟะตัะฝะพะน ะฟัะพะฒะตัะบะธ Ollama ะธ ะผะพะดะตะปะตะน:
```bash
streamlit run gui/streamlit_app.py
```
ะัะธะปะพะถะตะฝะธะต ะพัะบัะพะตััั ะฒ ะฑัะฐัะทะตัะต (ะฟะพ ัะผะพะปัะฐะฝะธั โ `http://localhost:8501`).

---

## ๐ ะกัััะบัััะฐ ะฟัะพะตะบัะฐ

```text
StudyBuddy_Assistant/
โโโ ๐ app/                              # ๐ฅ ะะพะณะธะบะฐ ะทะฐะฟััะบะฐ
โ   โโโ ๐ main.py                       # ๐ ะัะฝะพะฒะฝะฐั ัะพัะบะฐ ะฒัะพะดะฐ
โ   โโโ ๐ telegram_bot.py               # ๐ค Telegram-ะฑะพั
โโโ ๐ assets/                           # ๐ผ ะกัะฐัะธัะตัะบะธะต ัะตััััั
โโโ ๐ core/                             # ๐ง ะัะฝะพะฒะฝะฐั ะปะพะณะธะบะฐ
โ   โโโ ๐ chat_context.py               # ๐ฌ ะะพะฝัะตะบัั ะดะธะฐะปะพะณะฐ
โ   โโโ ๐ pedagogy.py                   # ๐ ะะตะดะฐะณะพะณะธัะตัะบะธะต ะฟะพะดัะบะฐะทะบะธ
โ   โโโ ๐ prompt_manager.py             # ๐ ะฃะฟัะฐะฒะปะตะฝะธะต ะฟัะพะผะฟัะฐะผะธ
โ   โโโ ๐ rag_engine.py                 # ๐ RAG-ะฟะพะธัะบ
โโโ ๐ data_ingestion/                   # ๐ฅ ะะฐะณััะทะบะฐ ะดะฐะฝะฝัั
โ   โโโ ๐ docx_loader.py                # ๐ DOCX-ะทะฐะณััะทัะธะบ
โ   โโโ ๐ pdf_loader.py                 # ๐ PDF-ะทะฐะณััะทัะธะบ
โ   โโโ ๐ preprocessor.py               # ๐งน ะัะธััะบะฐ ัะตะบััะฐ
โ   โโโ ๐ splitter.py                   # โ ะะฐะทะดะตะปะตะฝะธะต ะฝะฐ ัะฐะฝะบะธ
โโโ ๐ ethics/                           # โ ะญัะธะบะฐ
โ   โโโ ๐ solution_filter.py            # ๐ซ ะคะธะปัััะฐัะธั
โ   โโโ ๐ user_feedback.py              # ๐ฃ ะะฑัะฐัะฝะฐั ัะฒัะทั
โโโ ๐ gui/                              # ๐ผ ะะฝัะตััะตะนั
โ   โโโ ๐ helpers_new_formats.py        # ๐ ะฅะตะปะฟะตัั GUI
โ   โโโ ๐ session_manager.py            # ๐ ะะตะฝะตะดะถะตั ัะตััะธะน
โ   โโโ ๐ streamlit_app.py              # ๐ Streamlit-ะฟัะธะปะพะถะตะฝะธะต
โโโ ๐ llm/                              # ๐ค ะะฐะฑะพัะฐ ั LLM
โ   โโโ ๐ answer_generator.py           # โ ะะตะฝะตัะฐัะธั ะพัะฒะตัะพะฒ
โ   โโโ ๐ ollama_client.py              # ๐ API Ollama
โ   โโโ ๐ quiz_generator.py             # ๐ ะะตะฝะตัะฐัะพั ัะตััะพะฒ
โโโ ๐ Ollama/                           # ๐ฆ ะะฐะฝะฝัะต ะธ ะผะพะดะตะปะธ Ollama
โโโ ๐ output/                           # ๐ ะัะฒะพะด
โ   โโโ ๐ speech_output.py              # ๐ฃ ะกะธะฝัะตะท ัะตัะธ
โโโ ๐ uploaded_materials/               # ๐ค ะะฐะณััะถะตะฝะฝัะต ะผะฐัะตัะธะฐะปั
โโโ ๐ utils/                            # ๐ ะฃัะธะปะธัั
โ   โโโ ๐ constants.py                  # ๐ ะะพะฝััะฐะฝัั
โ   โโโ ๐ helpers.py                    # ๐ง ะฅะตะปะฟะตัั
โ   โโโ ๐ image_ocr.py                   # ๐ OCR-ัะฐัะฟะพะทะฝะฐะฒะฐะฝะธะต
โ   โโโ ๐ interface.py                  # ๐ ะะฝัะตััะตะนั
โโโ ๐ vector_db/                        # ๐ ะะตะบัะพัะฝะฐั ะฑะฐะทะฐ
โ   โโโ ๐ embedding_model.py            # ๐งฉ ะะพะดะตะปั ัะผะฑะตะดะดะธะฝะณะพะฒ
โ   โโโ ๐ faiss_interface.py            # ๐ ะะฐะฑะพัะฐ ั FAISS
โโโ ๐ .env                              # โ ะะตัะตะผะตะฝะฝัะต ะพะบััะถะตะฝะธั
โโโ ๐ check_ollama_connection.py        # ๐งช ะะฒัะพะฟัะพะฒะตัะบะฐ Ollama ะธ ะผะพะดะตะปะตะน
โโโ ๐ config.py                         # โ ะะพะฝัะธะณััะฐัะธั
โโโ ๐ README.md                         # ๐ ะะพะบัะผะตะฝัะฐัะธั
โโโ ๐ requirements.txt                  # ๐ฆ ะะฐะฒะธัะธะผะพััะธ
```

---

## ๐ ะคะฐะนะป `.env`
```ini
# ะะพะดะตะปั ะณะตะฝะตัะฐัะธะธ ะพัะฒะตัะพะฒ
OLLAMA_MODEL=qwen2.5:1.5b-instruct

# ะะพะดะตะปั ัะผะฑะตะดะดะธะฝะณะพะฒ
OLLAMA_EMBED_MODEL=nomic-embed-text

# URL Ollama API
OLLAMA_BASE_URL=http://localhost:11434

# ะกะบะพัะพััั TTS (ัะปะพะฒ ะฒ ะผะธะฝััั)
TTS_RATE=175
```

- **pyttsx3** โ ัะธะฝัะตะท ัะตัะธ.
- **dotenv** โ ัะฟัะฐะฒะปะตะฝะธะต ะฟะตัะตะผะตะฝะฝัะผะธ ะพะบััะถะตะฝะธั.
